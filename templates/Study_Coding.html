<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeHouse</title>
  <script src="../../static/js/config.js"></script>
  <!-- Libraries -->
  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <!-- StyleSheets -->
  <link rel="stylesheet" href="../../static/css/common.css">
  <link rel="stylesheet" href="../../static/css/study_coding.css">
  <!-- Scripts -->
  <script src="../../static/js/study_html/get_info.js"></script>
  <script src="../../static/js/study_coding_html/uploadCode.js"></script>
  <script type="text/javascript">
  setInterval(function() {
    update();
  }, 1000);

  function update() {
    var text = document.getElementById("code_editor").value;
    var ifr = document.createElement("iframe");
    ifr.setAttribute("frameborder", "0");
    ifr.setAttribute("id", "iframeResult");
    document.getElementById("live_html").innerHTML = "";
    document.getElementById("live_html").appendChild(ifr);
    var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;
    ifrw.document.open();
    ifrw.document.write(text);
    ifrw.document.close();
  }
  </script>
</head>
<body>
  <header>
    <div class="container">
      <div id="header_container">
        <div id="header_logo_container"><span class="vertical_align_middle"></span><a href="/"><div id="header_logo"><h1><span class="bold">CODE</span> HOUSE</h1></div></a></div>
        <div id="header_menu_container">
          <a href="/course_overview"><span class="vertical_align_middle"></span><div class="header_menu" id="header_menu_first"><p>과정 구경하기</p></div></a>
          <a href="/storage"><span class="vertical_align_middle"></span><div class="header_menu"><p>코드창고 입장</p></div></a>
        </div>
      </div>
    </div>
  </header>
  <section>
    <div class="container">
      <div id="instruction_container">
        <div id="instruction">
          <span class="vertical_align_middle"></span>
          <div>
            <p>
              {{ instruction | safe }}
            </p>
          </div>
        </div>
      </div>
      <article>
        <div class="content">
          <div id="editor">
            <div id="line_number">
              <p>
                1 <br>2 <br>3 <br>4 <br>5 <br>6 <br>7 <br>8 <br>9 <br>10 <br>11 <br>12 <br>13 <br>14 <br>15 <br>16 <br>17 <br>18 <br>19 <br>20 <br>21 <br>22 <br>23 <br>24 <br>
              </p>
            </div>
            <div id="coding_editor">
              <textarea id="code_editor" rows="24" cols="40"></textarea>
            </div>
          </div>
        </div>
        <div class="content">
          <div id="live_html">
            <iframe width="550px" height="650px">
              <html>
                <head></head>
                <body></body>
              </html>
            </iframe>
          </div>
        </div>
      </article>
    </div>
  </section>
  <div class="container">
    <div class="leftbutton">
      <a href="/study/html/{{ before_num }}">
      <img src="../../static/img/leftarrow.svg">
      </a>
    </div>
    <div class="profile">
      <div class="profile_nametag">
        <div class="profile_image">
          <img src="../../static/img/sns/go.svg">
        </div>
        <div class="profile_char">
          <div class="profile_username">
          </div>
          <div class="profile_userclass">
          </div>
        </div>
      </div>
      <div class="profile_expgauge">
        <div class="profile_expgauge_gaugebar">
        </div>
      </div>
    </div>
    <div class="rightbutton">
      <a href="/study/{{ subject }}/{{ next_num }}">
        <img src="../../static/img/rightarrow.svg">
      </a>
    </div>
  </div>
</body>
</html>
